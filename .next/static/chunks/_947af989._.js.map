{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/components/ui/SkeletonNotificationSettings.tsx"],"sourcesContent":["// components/ui/SkeletonNotificationSettings.tsx\r\nexport default function SkeletonNotificationSettings() {\r\n  return (\r\n    <div className=\"bg-white p-5 rounded-xl space-y-4 animate-pulse max-w-md mx-auto\">\r\n      {/* العنوان */}\r\n      <div className=\"h-6 w-1/2 bg-gray-300 rounded\"></div>\r\n      {/* الوصف */}\r\n      <div className=\"h-4 w-2/3 bg-gray-300 rounded\"></div>\r\n\r\n      {/* العناصر الثلاثة */}\r\n      {[1, 2, 3].map((_, i) => (\r\n        <div\r\n          key={i}\r\n          className=\"flex items-center justify-between border-b border-gray-200 pb-4\"\r\n        >\r\n          <div className=\"space-y-2\">\r\n            <div className=\"h-4 w-40 bg-gray-300 rounded\"></div>\r\n            <div className=\"h-3 w-32 bg-gray-300 rounded\"></div>\r\n          </div>\r\n          <div className=\"w-11 h-7 bg-gray-300 rounded-full\"></div>\r\n        </div>\r\n      ))}\r\n\r\n      {/* ملاحظة */}\r\n      <div className=\"h-4 w-full bg-gray-300 rounded mt-4\"></div>\r\n\r\n      {/* زر الحفظ */}\r\n      <div className=\"h-10 w-full bg-gray-400 rounded\"></div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AAClC,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;;;;;0BAEf,6LAAC;gBAAI,WAAU;;;;;;YAGd;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,GAAG,kBACjB,6LAAC;oBAEC,WAAU;;sCAEV,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;;;;;;;;;;;sCAEjB,6LAAC;4BAAI,WAAU;;;;;;;mBAPV;;;;;0BAYT,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;KA7BwB","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/lib/dashboardServices/dashboardMutation.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { extractMessages } from \"../loginservices/mutations\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { addPostFav, changePasswordDash, deleteAccount, EmailNotificationsDash, feedbackEmail, setUserInfo } from \"./dashboardApi\";\r\nimport {  addPostFavType, changePasswordDashType, deleteAccountType, EmailNotificationsDashType, feedbackEmailType } from \"@/app/types/authTypes\";\r\n// Hook\r\nexport function useAddPostFav() {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({  post_id }: addPostFavType) => addPostFav( post_id),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري تنفيذ الإجراء...\");\r\n    },\r\n\r\n    onError: () => {\r\n      console.log(\"حدث خطأ في المفضلة\");\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(`تم ${data.status === \"added\" ? \"إضافة\" : \"إزالة\"} الإعلان إلى المفضلة`);\r\n    },\r\n\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\"accounts/dashboard/favorites\"],\r\n      });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n// Change Password Dash\r\nexport function useChangePasswordDash(\r\n  setNotification: (v: { message: string; type: \"success\" | \"error\" }) => void\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (data: changePasswordDashType) => changePasswordDash(data),\r\n    onMutate: () => {\r\n      console.log(\"جاري تغيير كلمة المرور...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"Error in change password\")\r\n      if (axios.isAxiosError(error)) {\r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        const messages = errors ? extractMessages(errors) : [];\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\"): fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(\"Password Changed\")\r\n      setNotification({\r\n        message: data.detail,\r\n        type: \"success\",\r\n      });\r\n    },\r\n\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/dashboard/change-password/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n// Notifications Upddate\r\nexport function useEmailNotificationsDash(\r\n  setNotification: (v: { message: string; type: \"success\" | \"error\" }) => void\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (data: EmailNotificationsDashType) => EmailNotificationsDash(data),\r\n    onMutate: () => {\r\n      console.log(\"جاري تغيير  اعدادات الاشعارات...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"Error in change password\")\r\n      if (axios.isAxiosError(error)) {\r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        const messages = errors ? extractMessages(errors) : [];\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\"): fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(\"NOTI Changed\")\r\n      setNotification({\r\n        message: data.detail,\r\n        type: \"success\",\r\n      });\r\n    },\r\n\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/dashboard/settings/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n// Delete Account\r\nexport function useDeleteAccount(\r\n  setNotification: (v: { message: string; type: \"success\" | \"error\" }) => void\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (data: deleteAccountType) => deleteAccount(data),\r\n    onMutate: () => {\r\n      console.log(\"جاري حذف الحساب...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"Error in Delete Account\")\r\n      if (axios.isAxiosError(error)) {\r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        const messages = errors ? extractMessages(errors) : [];\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\"): fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(\"Account DELETED\")\r\n      setNotification({\r\n        message: data.detail,\r\n        type: \"success\",\r\n      });\r\n    },\r\n\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/dashboard/settings/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n// Send Feedback Email\r\nexport function useFeedbackEmail(\r\n  setNotification: (v: { message: string; type: \"success\" | \"error\" }) => void\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (data: feedbackEmailType) => feedbackEmail(data),\r\n    onMutate: () => {\r\n      console.log(\"جاري ارسال الايميل ...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"Error in Send Email\")\r\n      if (axios.isAxiosError(error)) {\r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        const messages = errors ? extractMessages(errors) : [];\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\"): fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(\"Email Send Done\")\r\n      setNotification({\r\n        message: data.detail,\r\n        type: \"success\",\r\n      });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/dashboard/settings/feedback/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n// Send Feedback Email\r\nexport function useSetUserInfo(\r\n  setNotification: (v: { message: string; type: \"success\" | \"error\" }) => void\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => setUserInfo(formData),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري تعديل البيانات  ...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"Error in Edit Info\")\r\n      if (axios.isAxiosError(error)) {\r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        const messages = errors ? extractMessages(errors) : [];\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\"): fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n\r\n    onSuccess: (data) => {\r\n      console.log(\"data: \",data)\r\n      setNotification({\r\n        message: data.detail,\r\n        type: \"success\",\r\n      });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/dashboard/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------------------------------------\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AAAA;AACA;;;;;;AAGO,SAAS;;IACd,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IAEjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;yCAAE,CAAC,EAAG,OAAO,EAAkB,GAAK,CAAA,GAAA,kJAAA,CAAA,aAAU,AAAD,EAAG;;QAE1D,QAAQ;yCAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QAEA,OAAO;yCAAE;gBACP,QAAQ,GAAG,CAAC;YACd;;QAEA,SAAS;yCAAE,CAAC;gBACV,QAAQ,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,KAAK,UAAU,UAAU,QAAQ,oBAAoB,CAAC;YACrF;;QAEA,SAAS;yCAAE;gBACT,YAAY,iBAAiB,CAAC;oBAC5B,UAAU;wBAAC;qBAA+B;gBAC5C;YACF;;IACF;AACF;GAxBgB;;QACM,yLAAA,CAAA,iBAAc;QAE3B,iLAAA,CAAA,cAAW;;;AA2Bb,SAAS,sBACd,eAA4E;;IAE5E,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;iDAAE,CAAC,OAAiC,CAAA,GAAA,kJAAA,CAAA,qBAAkB,AAAD,EAAE;;QACjE,QAAQ;iDAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QACA,OAAO;iDAAE,CAAC;gBACR,QAAQ,GAAG,CAAC;gBACZ,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;oBAC7B,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,WAAW,SAAS,CAAA,GAAA,2IAAA,CAAA,kBAAe,AAAD,EAAE,UAAU,EAAE;oBACtD,MAAM,kBAAkB,UAAU;oBAClC,MAAM,eAAe,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAO;oBAC5D,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF,OAAO;oBACL,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF;YACF;;QAEA,SAAS;iDAAE,CAAC;gBACV,QAAQ,GAAG,CAAC;gBACZ,gBAAgB;oBACd,SAAS,KAAK,MAAM;oBACpB,MAAM;gBACR;YACF;;QAEA,SAAS;iDAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAsC;gBAAC;YACpF;;IACF;AACF;IAzCgB;;QAGM,yLAAA,CAAA,iBAAc;QAC3B,iLAAA,CAAA,cAAW;;;AAyCb,SAAS,0BACd,eAA4E;;IAE5E,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;qDAAE,CAAC,OAAqC,CAAA,GAAA,kJAAA,CAAA,yBAAsB,AAAD,EAAE;;QACzE,QAAQ;qDAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QACA,OAAO;qDAAE,CAAC;gBACR,QAAQ,GAAG,CAAC;gBACZ,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;oBAC7B,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,WAAW,SAAS,CAAA,GAAA,2IAAA,CAAA,kBAAe,AAAD,EAAE,UAAU,EAAE;oBACtD,MAAM,kBAAkB,UAAU;oBAClC,MAAM,eAAe,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAO;oBAC5D,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF,OAAO;oBACL,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF;YACF;;QAEA,SAAS;qDAAE,CAAC;gBACV,QAAQ,GAAG,CAAC;gBACZ,gBAAgB;oBACd,SAAS,KAAK,MAAM;oBACpB,MAAM;gBACR;YACF;;QAEA,SAAS;qDAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAA+B;gBAAC;YAC7E;;IACF;AACF;IAzCgB;;QAGM,yLAAA,CAAA,iBAAc;QAC3B,iLAAA,CAAA,cAAW;;;AAyCb,SAAS,iBACd,eAA4E;;IAE5E,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;4CAAE,CAAC,OAA4B,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD,EAAE;;QACvD,QAAQ;4CAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QACA,OAAO;4CAAE,CAAC;gBACR,QAAQ,GAAG,CAAC;gBACZ,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;oBAC7B,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,WAAW,SAAS,CAAA,GAAA,2IAAA,CAAA,kBAAe,AAAD,EAAE,UAAU,EAAE;oBACtD,MAAM,kBAAkB,UAAU;oBAClC,MAAM,eAAe,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAO;oBAC5D,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF,OAAO;oBACL,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF;YACF;;QAEA,SAAS;4CAAE,CAAC;gBACV,QAAQ,GAAG,CAAC;gBACZ,gBAAgB;oBACd,SAAS,KAAK,MAAM;oBACpB,MAAM;gBACR;YACF;;QAEA,SAAS;4CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAA+B;gBAAC;YAC7E;;IACF;AACF;IAzCgB;;QAGM,yLAAA,CAAA,iBAAc;QAC3B,iLAAA,CAAA,cAAW;;;AAyCb,SAAS,iBACd,eAA4E;;IAE5E,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;4CAAE,CAAC,OAA4B,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD,EAAE;;QACvD,QAAQ;4CAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QACA,OAAO;4CAAE,CAAC;gBACR,QAAQ,GAAG,CAAC;gBACZ,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;oBAC7B,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,WAAW,SAAS,CAAA,GAAA,2IAAA,CAAA,kBAAe,AAAD,EAAE,UAAU,EAAE;oBACtD,MAAM,kBAAkB,UAAU;oBAClC,MAAM,eAAe,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAO;oBAC5D,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF,OAAO;oBACL,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF;YACF;;QAEA,SAAS;4CAAE,CAAC;gBACV,QAAQ,GAAG,CAAC;gBACZ,gBAAgB;oBACd,SAAS,KAAK,MAAM;oBACpB,MAAM;gBACR;YACF;;QACA,SAAS;4CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAwC;gBAAC;YACtF;;IACF;AACF;IAxCgB;;QAGM,yLAAA,CAAA,iBAAc;QAC3B,iLAAA,CAAA,cAAW;;;AAwCb,SAAS,eACd,eAA4E;;IAE5E,MAAM,cAAc,CAAA,GAAA,yLAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,iLAAA,CAAA,cAAW,AAAD,EAAE;QACjB,UAAU;0CAAE,CAAC,WAAuB,CAAA,GAAA,kJAAA,CAAA,cAAW,AAAD,EAAE;;QAEhD,QAAQ;0CAAE;gBACR,QAAQ,GAAG,CAAC;YACd;;QACA,OAAO;0CAAE,CAAC;gBACR,QAAQ,GAAG,CAAC;gBACZ,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;oBAC7B,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,SAAS,MAAM,QAAQ,EAAE,MAAM;oBACrC,MAAM,WAAW,SAAS,CAAA,GAAA,2IAAA,CAAA,kBAAe,AAAD,EAAE,UAAU,EAAE;oBACtD,MAAM,kBAAkB,UAAU;oBAClC,MAAM,eAAe,SAAS,MAAM,GAAG,SAAS,IAAI,CAAC,QAAO;oBAC5D,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF,OAAO;oBACL,gBAAgB;wBACd,SAAS;wBACT,MAAM;oBACR;gBACF;YACF;;QAEA,SAAS;0CAAE,CAAC;gBACV,QAAQ,GAAG,CAAC,UAAS;gBACrB,gBAAgB;oBACd,SAAS,KAAK,MAAM;oBACpB,MAAM;gBACR;YACF;;QACA,SAAS;0CAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAsB;gBAAC;YACpE;;IACF;AACF,EAEA,8HAA8H;IA3C9G;;QAGM,yLAAA,CAAA,iBAAc;QAC3B,iLAAA,CAAA,cAAW","debugId":null}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/components/ui/AdCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { FC, useState } from \"react\";\r\nimport { Heart, MapPin, Pencil } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport clsx from \"clsx\";\r\nimport { useAddPostFav } from \"@/app/lib/dashboardServices/dashboardMutation\";\r\n\r\ntype AdCardProps = {\r\n  id: number;\r\n  offer_type: \"sell\" | \"search\";\r\n  title: string;\r\n  description: string;\r\n  city: string;\r\n  price: number;\r\n  imageUrl?: string;\r\n  published?: \"accepted\" | \"pending\" | \"declined\";\r\n  isFav: boolean;\r\n  subcat: string;\r\n  fav: \"added\" | \"removed\"\r\n};\r\n\r\nconst AdCard: FC<AdCardProps> = ({\r\n  id,\r\n  offer_type,\r\n  subcat,\r\n  title,\r\n  description,\r\n  city,\r\n  price,\r\n  imageUrl,\r\n  published,\r\n  isFav ,\r\n  fav\r\n}) => {\r\n  const status = {\r\n    accepted: {\r\n      label: \"تم النشر\",\r\n      className: \"text-cgreen border-cgreen bg-green-50\",\r\n    },\r\n    pending: {\r\n      label: \"معلق\",\r\n      className: \"text-corange border-corange bg-orange-50\",\r\n    },\r\n    declined: {\r\n      label: \"مرفوض\",\r\n      className: \"text-red-600 border-red-600 bg-red-50\",\r\n    },\r\n  };\r\n\r\n  \r\n\r\n  const currentStatus =\r\n    published && status[published]\r\n      ? status[published]\r\n      : {\r\n          label: \"غير معروف\",\r\n          className: \"text-gray-400 border-gray-400 bg-gray-100\",\r\n        };\r\n\r\n  function goToEdit() {\r\n    if (subcat === \"cars\") {\r\n      return `/editpost/editCar/${id}`;\r\n    } else if (subcat === \"outdoor-space\") {\r\n      return `/editpost/editOutdoorspace/${id}`;\r\n    } else if (subcat === \"houses\") {\r\n      return `/editpost/editHouse/${id}`;\r\n    } else if (\r\n      subcat === \"pc\" ||\r\n      subcat === \"tablets\" ||\r\n      subcat === \"games\" ||\r\n      subcat === \"tv\" ||\r\n      subcat === \"home_appliances\" ||\r\n      subcat === \"audio_video_accessories\" ||\r\n      subcat === \"parts_accessories\"\r\n    ) {\r\n      return `/editpost/editElectronics/${id}`;\r\n    } else if (subcat === \"mobiles\") {\r\n      console.log(\"why \", subcat);\r\n      return `/editpost/editMobile/${id}`;\r\n    } else if (subcat === \"apartments\") {\r\n      return `/editpost/editApartment/${id}`;\r\n    } else {\r\n      return `/editpost/editGeneric/${id}`;\r\n    }\r\n  }\r\n\r\n  const [isFavorite, setIsFavorite] = useState<string>(fav );\r\n  const addPostFavMutation = useAddPostFav();\r\n  function handleFavClick() {\r\n    addPostFavMutation.mutate(\r\n      { post_id: id },\r\n      {\r\n        onSuccess: (res) => {\r\n          setIsFavorite( res.status );\r\n          console.log(\"res= \", res.status ) \r\n        },\r\n        onError: () => {\r\n          console.error(\"فشل في تحديث المفضلة\");\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  console.log(\"FAV \", isFavorite , id);\r\n\r\n  return (\r\n    <div className=\"block h-64 \">\r\n      <div className=\"rounded-xl h-full border border-gray-200 bg-cwhite overflow-hidden shadow-sm hover:shadow-md transition duration-200 flex flex-col\">\r\n        {/* الصورة */}\r\n        <div className=\"relative h-full \">\r\n          <Link href={`/previewpost/${id}`}>\r\n            {imageUrl ? (\r\n              <Image src={imageUrl} alt={title} fill className=\"object-cover\" />\r\n            ) : null}\r\n          </Link>\r\n\r\n          {!isFav && (\r\n            <Link\r\n              href={goToEdit()}\r\n              className=\"hover:bg-chgreen group absolute top-2 right-2 p-1.5 bg-white rounded-md shadow \"\r\n            >\r\n              <Pencil className=\"group-hover:text-white w-5 h-5 text-cdarkgray\" />\r\n            </Link>\r\n          )}\r\n\r\n          {isFav && (\r\n            <button\r\n              onClick={handleFavClick}\r\n              className={`absolute top-2 right-2 rounded-md  shadow group `}\r\n            >\r\n              <Heart\r\n                className={clsx(\r\n                  \"w-8 h-8 transition-colors rounded-md p-1\",\r\n                  isFavorite == \"added\" \r\n                    ? \"bg-cgreen text-white group-hover:bg-cwhite group-hover:text-cgreen\"\r\n                    : \"bg-cwhite text-cgreen group-hover:bg-cgreen group-hover:text-white\"\r\n                )}\r\n              />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* المحتوى */}\r\n        <Link href={`/previewpost/${id}`}>\r\n          <div className=\"p-3 flex flex-col justify-between gap-2 flex-grow\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <h3 className=\"text-sm font-bold truncate\">\r\n                {offer_type === \"search\" && (\r\n                  <span className=\"text-chgreen underline decoration-chgreen\">\r\n                    {\" أبحث عن\"}{\" \"}\r\n                  </span>\r\n                )}\r\n                {title}\r\n              </h3>\r\n              {published && !isFav && (\r\n                <span\r\n                  className={clsx(\r\n                    \"text-[11px] px-2 py-0.5 rounded-full border font-medium max-sm:font-normal max-sm:text-[8px] whitespace-nowrap\",\r\n                    currentStatus.className\r\n                  )}\r\n                >\r\n                  {currentStatus.label}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <p className=\"text-xs text-cdarkgray line-clamp-2 leading-relaxed\">\r\n              {description}\r\n            </p>\r\n\r\n            <div className=\"flex items-center justify-between text-xs text-cdarkgray mt-auto border-t border-clightgray pt-2\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <MapPin className=\"w-4 h-4\" />\r\n                <span>{city}</span>\r\n              </div>\r\n              <span className=\"text-cgreen font-bold\">\r\n                {price.toLocaleString()}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdCard;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/public/resourses/placeholderPost.svg.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 118, height: 87, blurDataURL: null, blurWidth: 0, blurHeight: 0 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,+HAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,aAAa;IAAM,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 763, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/lib/postServices/postApi.ts"],"sourcesContent":["import axiosInstance from \"../loginservices/api\";\r\nimport {\r\n  ApartmentPostPayload,\r\n  CarPostPayload,\r\n  ElectronicsPostPayload,\r\n  GenericPostPayload,\r\n  HousePostPayload,\r\n  LandPostPayload,\r\n  MobilePostPayload,\r\n  PublicProfileInfoType,\r\n} from \"./postType\";\r\n\r\nexport const createPost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\r\n    \"accounts/posts/generic/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان سيارة\r\nexport const createCarPost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\"accounts/posts/cars/\", formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان إلكترونيات\r\nexport const createElectronicsPost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\r\n    \"accounts/posts/electronics/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان منزل\r\nexport const createHousePost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\"accounts/posts/house/\", formData, {\r\n    headers: {\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان أرض\r\nexport const createLandPost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\r\n    \"accounts/posts/outdoor-space/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان شقة\r\nexport const createApartmentPost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\r\n    \"accounts/posts/apartment/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// API لنشر إعلان موبايل\r\nexport const createMobilePost = async (formData: FormData) => {\r\n  const response = await axiosInstance.post(\r\n    \"accounts/posts/mobile/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// GETTER -----------------------------------------------------------------------------------------------------\r\n\r\n// Get Generic Post id\r\nexport const getGenericPostId = async (id: string) => {\r\n  const res = await axiosInstance.get<GenericPostPayload>(\r\n    `accounts/posts/generic/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get Car Post id\r\nexport const getCarPostId = async (id: string) => {\r\n  const res = await axiosInstance.get<CarPostPayload>(\r\n    `accounts/posts/cars/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get electronics Post id\r\nexport const getElectronicPostId = async (id: string) => {\r\n  const res = await axiosInstance.get<ElectronicsPostPayload>(\r\n    `accounts/posts/electronics/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get House Post id\r\nexport const getHousePostId = async (id: string) => {\r\n  const res = await axiosInstance.get<HousePostPayload>(\r\n    `accounts/posts/house/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get Mobile Post id\r\nexport const getMobilePostId = async (id: string) => {\r\n  const res = await axiosInstance.get<MobilePostPayload>(\r\n    `accounts/posts/mobile/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get Outdoor-space Post id\r\nexport const getOutdoorSpacePostId = async (id: string) => {\r\n  const res = await axiosInstance.get<LandPostPayload>(\r\n    `accounts/posts/outdoor-space/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// Get Apartment Post id\r\nexport const getApartmentPostId = async (id: string) => {\r\n  const res = await axiosInstance.get<ApartmentPostPayload>(\r\n    `accounts/posts/apartment/` + id\r\n  );\r\n  return res.data;\r\n};\r\n\r\n// EDIT INFO FOR POST ------------------------------------------------------------------------------------------------------------------------\r\n\r\n// Patch Generic\r\nexport const editGenericForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/generic/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch APARTMENT\r\nexport const editApartmentForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/apartment/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch CARS\r\nexport const editCarForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.put(\r\n    \"accounts/posts/cars/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch ELECTRONIC\r\nexport const editElectronicsForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/electronics/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch HOUSE\r\nexport const editHouseForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/house/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch MOBILE\r\nexport const editMobileForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/mobile/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Patch OUTDOOR SPACE\r\nexport const editOutdoor_spaceForm = async (formData: FormData, id: string) => {\r\n  const response = await axiosInstance.patch(\r\n    \"accounts/posts/outdoor-space/\" + id + \"/\",\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// Get ---------------\r\n\r\n// Get Post Public Page\r\nexport const getPublicPage = async (\r\n  username: string,\r\n  page: number,\r\n  page_size: number\r\n) => {\r\n  const res = await axiosInstance.get<PublicProfileInfoType>(\r\n    `accounts/users/${username}/posts/cards/?page=${page}&page_size=${page_size}&ordering=-created_at`\r\n  );\r\n  return res.data;\r\n};\r\n\r\n\r\n// ابلاغ\r\nexport const createReport = async (formData: FormData , username :string) => {\r\n  const response = await axiosInstance.post(\r\n    `accounts/report-user/${username}/`,\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n// تقييم\r\nexport const createRate = async (formData: FormData , username :string) => {\r\n  const response = await axiosInstance.post(\r\n    `accounts/rate-user/${username}/`,\r\n    formData,\r\n    {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 960, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/lib/postServices/postQueries.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { AxiosError } from \"axios\";\r\nimport {  ApartmentPostPayload, CarPostPayload, ElectronicsPostPayload, GenericPostPayload, HousePostPayload, LandPostPayload, MobilePostPayload, PublicProfileInfoType } from \"./postType\";\r\nimport { getApartmentPostId, getCarPostId, getElectronicPostId, getGenericPostId, getHousePostId, getMobilePostId, getOutdoorSpacePostId, getPublicPage } from \"./postApi\";\r\n\r\n//  Get Generic Post ID\r\nexport function useGetGenericPostId(id?: string) {\r\n  return useQuery<GenericPostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/generic\", id],\r\n    queryFn: () => getGenericPostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get Car Post ID\r\nexport function useGetCarPostId(id?: string) {\r\n  return useQuery<CarPostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/cars\", id],\r\n    queryFn: () => getCarPostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get House Post ID\r\nexport function useGetHousePostId(id?: string) {\r\n  return useQuery<HousePostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/house\", id],\r\n    queryFn: () => getHousePostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get Apartment Post ID\r\nexport function useGetApartmentPostId(id?: string) {\r\n  return useQuery<ApartmentPostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/apartment\", id],\r\n    queryFn: () => getApartmentPostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get Mobile Post ID\r\nexport function useGetMobilePostId(id?: string) {\r\n  return useQuery<MobilePostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/mobile\", id],\r\n    queryFn: () => getMobilePostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get Electronics Post ID\r\nexport function useGetElectronicsPostId(id?: string) {\r\n  return useQuery<ElectronicsPostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/electronics\", id],\r\n    queryFn: () => getElectronicPostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n//  Get OutdoorSpace Post ID\r\nexport function useGetOutdoorSpacePostId(id?: string) {\r\n  return useQuery<LandPostPayload, AxiosError>({\r\n    queryKey: [\"accounts/posts/outdoor-space\", id],\r\n    queryFn: () => getOutdoorSpacePostId(id!), // use id! since enabled prevents undefined\r\n    enabled: !!id,\r\n    staleTime: 1000 * 60 * 5,\r\n    retry: 1,\r\n  });\r\n}\r\n\r\n// getPublicProfileInfo\r\n//  Get Public profile Info\r\nexport function useGetPublicPage(username: string , page?: number , page_size?: number) {\r\n  return useQuery<PublicProfileInfoType, AxiosError>({\r\n    queryKey: [\"accounts/posts/\", username , page],\r\n    queryFn: () => getPublicPage(username!, page ?? 1, page_size ?? 10),\r\n    enabled: !!username,\r\n    staleTime: 1000 * 60 * 5,\r\n  });\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/lib/postServices/postMutations.ts"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport axios from \"axios\";\r\nimport { createCarPost, createPost, createLandPost, createHousePost, createApartmentPost, createElectronicsPost, createMobilePost, createReport, createRate } from \"./postApi\";\r\nimport { extractMessages } from \"../loginservices/mutations\";\r\n\r\nexport type NotificationSetter = (v: { message: string; type: \"success\" | \"error\" }) => void;\r\n\r\n// فورم عام\r\nexport function useCreatePost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createPost(formData),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان جديد\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log(\"Done Global Form\")\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/generic/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n// فورم خاص سيارات\r\nexport function useCreateCarPost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createCarPost(formData),\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان سيارة جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان سيارة\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log(\"Done CAR Form\")\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/cars/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n// فورم خاص إلكترونيات\r\nexport function useCreateElectronicsPost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createElectronicsPost(formData),\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان سيارة جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"جاري إنشاء إعلان إلكترونيات جديد...\");\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log(\"Done الكترونياتForm\")\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/electronics/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n// فورم خاص منازل\r\nexport function useCreateHousePost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createHousePost(formData),\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان منزل جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان منزل\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/houses/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n// فورم خاص أراضي\r\nexport function useCreateLandPost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createLandPost(formData),\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان أرض جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان أرض\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/outdoor-space/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n// فورم خاص شقق\r\nexport function useCreateApartmentPost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createApartmentPost(formData),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان شقة جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان شقة\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/apartment/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n// فورم خاص موبايلات\r\nexport function useCreateMobilePost(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: (formData: FormData) => createMobilePost(formData),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري إنشاء إعلان موبايل جديد...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا في انشاء اعلان موبايل\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/posts/mobile/\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n// REport\r\nexport function useCreateReport(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({ formData, username }: { formData: FormData; username: string }) => createReport(formData, username),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري الابلاغ   ...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا ف ي الابلاغ\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/report-user\"] });\r\n    },\r\n  });\r\n}\r\n\r\n\r\n\r\n// rate\r\nexport function useCreateRate(setNotification: NotificationSetter) {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: ({ formData, username }: { formData: FormData; username: string }) => createRate(formData, username),\r\n\r\n    onMutate: () => {\r\n      console.log(\"جاري Rate   ...\");\r\n    },\r\n    onError: (error: unknown) => {\r\n      console.log(\"خطا ف ي rate\", error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.log(\"Response status:\", error.response?.status);\r\n        console.log(\"Response data:\", error.response?.data);\r\n        console.log(\"Response headers:\", error.response?.headers);\r\n        \r\n        const detail = error.response?.data?.detail;\r\n        const errors = error.response?.data?.errors;\r\n        let messages = errors ? extractMessages(errors) : [];\r\n        if (!messages.length) {\r\n          messages = extractMessages(error.response?.data || {});\r\n        }\r\n        console.log(\"messages: \", messages);\r\n        const fallbackMessage = detail || \"حدث خطأ غير معروف.\";\r\n        const finalMessage = messages.length ? messages.join(\"\\n\") : fallbackMessage;\r\n        setNotification({\r\n          message: finalMessage,\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setNotification({\r\n          message: \"حدث خطأ أثناء الاتصال بالسيرفر.\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    onSuccess: (data) => {\r\n      setNotification({ message: data.detail, type: \"success\" });\r\n    },\r\n    onSettled: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"accounts/rate-user\"] });\r\n    },\r\n  });\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1762, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/%28public%29/publicstore/%5Busername%5D/ReportStoreModal.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { NotificationSetter, useCreateReport } from \"@/app/lib/postServices/postMutations\";\r\n\r\ninterface ReportStoreModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  username: string;\r\n  setNotification: NotificationSetter;\r\n}\r\n\r\n\r\n\r\nconst reasons = [\r\n  { label: \"المتجر يبيع منتجات محظورة\", value: \"banned_products\" },\r\n  { label: \"المحتوى غير لائق\", value: \"inappropriate_content\" },\r\n  { label: \"معلومات مضللة\", value: \"misleading_info\" },\r\n  { label: \"تعامل سيء أو لغة غير مناسبة\", value: \"bad_behavior\" },\r\n  { label: \"أخرى\", value: \"other\" },\r\n];\r\n\r\nconst ReportStoreModal = ({ isOpen, onClose, username, setNotification }: ReportStoreModalProps) => {\r\n  const [selectedReason, setSelectedReason] = useState<string | null>(null);\r\n  const [details, setDetails] = useState(\"\");\r\n  const mutation = useCreateReport(setNotification);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleSubmit = () => {\r\n    const chosen = reasons.find((r) => r.value === selectedReason);\r\n    if (!chosen) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"reason\", chosen.label);\r\n    formData.append(\"builtin_reason\", chosen.value);\r\n    if (details.trim()) formData.append(\"details\", details.trim());\r\n\r\n    mutation.mutate({ formData, username }, { onSuccess: () => onClose() });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white w-full max-w-md md:max-w-2xl rounded-xl shadow-lg p-6 relative\">\r\n        {/* أيقونة */}\r\n        <h2 className=\"text-2xl font-bold text-center mb-4\">\r\n          هل تواجه مشكلة مع هذا المتجر؟\r\n        </h2>\r\n        <p className=\"text-gray-600 text-center mb-6 leading-relaxed\">\r\n          نحن نحرص على أن تكون تجربة المستخدم آمنة ومريحة، إذا لاحظت سلوكاً مخالفاً من هذا المتجر يرجى تزويدنا بالتفاصيل\r\n        </p>\r\n\r\n        <div className=\"space-y-3 mb-6\">\r\n          <p className=\"font-bold text-gray-700\">سبب الإبلاغ</p>\r\n          {reasons.map((reason) => (\r\n            <label key={reason.value} className=\"flex items-center gap-2 cursor-pointer text-gray-600\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"reason\"\r\n                value={reason.value}\r\n                onChange={() => setSelectedReason(reason.value)}\r\n                checked={selectedReason === reason.value}\r\n                className=\"accent-cgreen\"\r\n              />\r\n              {reason.label}\r\n            </label>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"mb-6\">\r\n          <label className=\"block font-bold text-gray-700 mb-2\">\r\n            يرجى وصف المشكلة بالتفصيل <span className=\"text-sm text-gray-500\">(اختياري)</span>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"تفاصيل الإبلاغ\"\r\n            value={details}\r\n            onChange={(e) => setDetails(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-cgreen\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            disabled={mutation.isPending}\r\n            className=\"flex-1 py-2 border border-cgreen text-cgreen rounded-md font-semibold hover:bg-cgreen hover:text-white transition\"\r\n          >\r\n            إلغاء الأمر\r\n          </button>\r\n          <button\r\n            onClick={handleSubmit}\r\n            disabled={!selectedReason || mutation.isPending}\r\n            className=\"flex-1 py-2 bg-cgreen text-white rounded-md font-semibold hover:bg-chgreen transition disabled:opacity-50\"\r\n          >\r\n            {mutation.isPending ? \"جاري الإرسال...\" : \"ارسال الإبلاغ\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportStoreModal;\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAaA,MAAM,UAAU;IACd;QAAE,OAAO;QAA6B,OAAO;IAAkB;IAC/D;QAAE,OAAO;QAAoB,OAAO;IAAwB;IAC5D;QAAE,OAAO;QAAiB,OAAO;IAAkB;IACnD;QAAE,OAAO;QAA+B,OAAO;IAAe;IAC9D;QAAE,OAAO;QAAQ,OAAO;IAAQ;CACjC;AAED,MAAM,mBAAmB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAyB;;IAC7F,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,WAAW,CAAA,GAAA,8IAAA,CAAA,kBAAe,AAAD,EAAE;IAEjC,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe;QACnB,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK;QAC/C,IAAI,CAAC,QAAQ;QAEb,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,UAAU,OAAO,KAAK;QACtC,SAAS,MAAM,CAAC,kBAAkB,OAAO,KAAK;QAC9C,IAAI,QAAQ,IAAI,IAAI,SAAS,MAAM,CAAC,WAAW,QAAQ,IAAI;QAE3D,SAAS,MAAM,CAAC;YAAE;YAAU;QAAS,GAAG;YAAE,WAAW,IAAM;QAAU;IACvE;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAG,WAAU;8BAAsC;;;;;;8BAGpD,6LAAC;oBAAE,WAAU;8BAAiD;;;;;;8BAI9D,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAA0B;;;;;;wBACtC,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;gCAAyB,WAAU;;kDAClC,6LAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAO,OAAO,KAAK;wCACnB,UAAU,IAAM,kBAAkB,OAAO,KAAK;wCAC9C,SAAS,mBAAmB,OAAO,KAAK;wCACxC,WAAU;;;;;;oCAEX,OAAO,KAAK;;+BATH,OAAO,KAAK;;;;;;;;;;;8BAc5B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;;gCAAqC;8CAC1B,6LAAC;oCAAK,WAAU;8CAAwB;;;;;;;;;;;;sCAEpE,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC1C,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,UAAU,SAAS,SAAS;4BAC5B,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,SAAS;4BACT,UAAU,CAAC,kBAAkB,SAAS,SAAS;4BAC/C,WAAU;sCAET,SAAS,SAAS,GAAG,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;AAMtD;GA/EM;;QAGa,8IAAA,CAAA,kBAAe;;;KAH5B;uCAiFS","debugId":null}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebProjects/smallOffer/app/%28public%29/publicstore/%5Busername%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Image from \"next/image\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { Eye, MapPin } from \"lucide-react\";\r\nimport SkeletonNotificationSettings from \"@/app/components/ui/SkeletonNotificationSettings\";\r\nimport AdCard from \"@/app/components/ui/AdCard\";\r\nimport userAvatar from \"../../../../public/resourses/userAvatar.svg\";\r\nimport placeholderPost from \"../../../../public/resourses/placeholderPost.svg\";\r\nimport type { Ad } from \"@/app/types/authTypes\";\r\nimport Link from \"next/link\";\r\nimport { useGetPublicPage } from \"@/app/lib/postServices/postQueries\";\r\nimport Notification from \"@/app/components/ui/Notification\";\r\nimport ReportStoreModal from \"./ReportStoreModal\";\r\n\r\nconst Star = ({ filled }: { filled: boolean }) => (\r\n  <svg\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 20 20\"\r\n    fill={filled ? \"#FFD600\" : \"#E0E0E0\"}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    style={{ display: \"inline\" }}\r\n    role=\"img\"\r\n    aria-label={filled ? \"نجمة مملوءة\" : \"نجمة فارغة\"}\r\n  >\r\n    <path d=\"M10 15.27L16.18 19l-1.64-7.03L20 7.24l-7.19-.61L10 0 7.19 6.63 0 7.24l5.46 4.73L3.82 19z\" />\r\n  </svg>\r\n);\r\n\r\ntype PublicPost = {\r\n  id: number;\r\n  offer_type: string;\r\n  title: string;\r\n  description: string;\r\n  price: string;\r\n  city: string;\r\n  cover_image: string | null;\r\n  subcategory: string;\r\n  created_at: string;\r\n  fav: \"added\" | \"removed\";\r\n};\r\n\r\ntype PublicUser = {\r\n  first_name: string;\r\n  last_name: string;\r\n  city: string;\r\n  profile_image: string | null;\r\n  total_posts: number;\r\n  total_views: number;\r\n  average_rating: number;\r\n  rating_count: number;\r\n};\r\n\r\nconst PublicStore = () => {\r\n  const [showReportModal, setShowReportModal] = useState(false);\r\n  const [showRateModal, setShowRateModal] = useState(false);\r\n  const [notification, setNotification] = useState<{\r\n    message: string;\r\n    type: \"success\" | \"error\";\r\n  } | null>(null);\r\n\r\n  // استدعاء جميع الهوكات في أعلى المكون\r\n  const params = useParams();\r\n  const [page, setPage] = useState(1);\r\n  const [allPosts, setAllPosts] = useState<PublicPost[]>([]);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [user, setUser] = useState<PublicUser | null>(null);\r\n\r\n  const username = Array.isArray(params.username)\r\n    ? params.username[0]\r\n    : params.username;\r\n\r\n  const pageSize = 8;\r\n  const {\r\n    data,\r\n    error: postError,\r\n    isLoading: isFetchingPosts,\r\n  } = useGetPublicPage(username!, page, pageSize);\r\n\r\n  useEffect(() => {\r\n    if (!data) return;\r\n\r\n    if (!data.results.posts || data.results.posts.length === 0) {\r\n      setHasMore(false);\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    // تحويل البيانات لتتوافق مع نوع PublicPost\r\n    const postsWithFav: PublicPost[] = data.results.posts.map((post) => ({\r\n      ...post,\r\n      fav: post.fav ? \"added\" : \"removed\", // تحويل boolean إلى \"added\" | \"removed\"\r\n    }));\r\n\r\n    if (page === 1) {\r\n      setAllPosts(postsWithFav);\r\n    } else {\r\n      setAllPosts((prev) => {\r\n        const ids = new Set(prev.map((p) => p.id));\r\n        const newPosts = postsWithFav.filter((p) => !ids.has(p.id));\r\n        return [...prev, ...newPosts];\r\n      });\r\n    }\r\n    setUser(data.results.user || null);\r\n    setHasMore(!!data.next);\r\n    setIsLoading(false);\r\n  }, [data, page]);\r\n\r\n  if (postError) {\r\n    return (\r\n      <div className=\"text-center text-red-500 py-12\">\r\n        حدث خطأ أثناء جلب البيانات. حاول مرة أخرى.\r\n      </div>\r\n    );\r\n  }\r\n  if (!username) {\r\n    return (\r\n      <div className=\"text-center text-red-500 py-12\">\r\n        لم يتم تحديد اسم المستخدم.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isFetchingPosts && page === 1) return <SkeletonNotificationSettings />;\r\n\r\n  const mappedAds: Ad[] = allPosts.map((post) => ({\r\n    id: post.id,\r\n    offer_type: post.offer_type as \"sell\" | \"search\",\r\n    title: post.title,\r\n    description: post.description,\r\n    city: post.city,\r\n    price: post.price,\r\n    status: \"accepted\",\r\n    cover_image: post.cover_image ?? placeholderPost,\r\n    subcategory: post.subcategory,\r\n    user_first_name: user?.first_name || \"\",\r\n    user_last_name: user?.last_name || \"\",\r\n    user_city: user?.city || \"\",\r\n    user_profile_image: user?.profile_image || \"\",\r\n    username: username,\r\n    fav: post.fav,\r\n  }));\r\n\r\n  const rating = user?.average_rating || 0;\r\n  const ratingCount = user?.rating_count || 0;\r\n  const stars = Array.from({ length: 5 }, (_, i) => i < Math.round(rating));\r\n\r\n  return (\r\n    <div className=\"w-full flex flex-col justify-between items-start px-8 py-6 gap-8 rtl\">\r\n      {/* ------------- Noti -------------- */}\r\n      {notification && (\r\n        <Notification\r\n          message={notification.message}\r\n          type={notification.type}\r\n          onClose={() => setNotification(null)}\r\n        />\r\n      )}\r\n\r\n      {/* User Info & Store Info */}\r\n      <div className=\"flex w-full max-md:flex-col justify-between gap-8\">\r\n        {/* Right: User Info */}\r\n        <div className=\"flex max-md:flex-col items-center w-full md:w-1/2 gap-4 justify-center md:pr-12\">\r\n          <div className=\"rounded-full overflow-hidden border-2 border-cgreen w-36 h-36 shrink-0\">\r\n            <Image\r\n              src={user?.profile_image || userAvatar}\r\n              alt=\"صورة الملف الشخصي\"\r\n              width={128}\r\n              height={128}\r\n              className=\"object-cover w-full h-full\"\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col justify-center md:text-right w-full md:mr-2 text-center\">\r\n            <div className=\"text-2xl font-bold text-gray-700 mb-4\">\r\n              {user ? `${user.first_name} ${user.last_name}` : \"---\"}\r\n            </div>\r\n            <div className=\"flex items-center max-md:justify-center gap-1 mb-1\">\r\n              {stars.map((filled, idx) => (\r\n                <Star key={idx} filled={filled} />\r\n              ))}\r\n            </div>\r\n            <div className=\"text-xs text-gray-600 mt-1\">\r\n              <span>(تقييم {ratingCount})</span>\r\n              <span className=\"font-bold mx-1\">{rating.toFixed(1)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Left: Store Info */}\r\n        <div className=\"shadow-xl rounded-xl px-6 py-2 w-full md:w-[45%] md:ml-10 flex flex-col gap-6 border border-gray-100 bg-cwhite\">\r\n          <div className=\"flex items-center gap-2 text-gray-600 text-lg\">\r\n            <MapPin size={20} />\r\n            <span className=\"text-xl\">{user?.city || \"---\"}</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 text-gray-600 text-xl\">\r\n            <Eye size={20} />\r\n            <span className=\"font-bold\">{user?.total_views || 0}</span>\r\n            <span>مشاهدة</span>\r\n          </div>\r\n          <div className=\"flex gap-3 mt-2\">\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"إبلاغ عن المتجر\"\r\n              onClick={() => setShowReportModal(true)}\r\n              className=\"flex-1 py-2 border border-cgreen text-cgreen rounded-md font-semibold hover:bg-cgreen hover:text-white transition\"\r\n            >\r\n              إبلاغ\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"تقييم المتجر\"\r\n              onClick={() => setShowRateModal(true)}\r\n              className=\"flex-1 py-2 bg-cgreen text-white rounded-md font-semibold hover:bg-chgreen transition\"\r\n            >\r\n              تقييم المتجر\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"md:hidden w-full\">\r\n        <Link href=\"/contact\">\r\n          <div className=\"w-full flex items-center justify-center bg-cgreen relative min-h-[150px]\">\r\n            <p className=\"text-white text-xl font-bold whitespace-nowrap transform-origin-left\">\r\n              تواصل معنا لعرض إعلانك هنا\r\n            </p>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Bottom: Ads */}\r\n      <div className=\"w-full flex-col flex h-full\">\r\n        <div className=\"border-b mb-4 border-cgreen text-xl font-bold text-cgreen\">\r\n          الإعلانات المنشورة\r\n        </div>\r\n        <div className=\"flex\">\r\n          <div className=\"w-[85%] max-lg:w-[80%] max-md:w-full ml-1\">\r\n            {mappedAds.length > 0 ? (\r\n              <div className=\"h-full rounded-md mb-10\">\r\n                <div className=\"grid gap-4 grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n                  {mappedAds.map((ad) => (\r\n                    <AdCard\r\n                      key={ad.id}\r\n                      title={ad.title}\r\n                      description={ad.description}\r\n                      city={ad.city}\r\n                      price={parseFloat(ad.price)}\r\n                      published={ad.status}\r\n                      isFav={true}\r\n                      imageUrl={ad.cover_image}\r\n                      id={ad.id}\r\n                      subcat={ad.subcategory ?? \"\"}\r\n                      offer_type={ad.offer_type}\r\n                      fav={ad.fav}\r\n                    />\r\n                  ))}\r\n                </div>\r\n                {hasMore && mappedAds.length > 0 && (\r\n                  <div className=\"text-center mt-6\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setIsLoading(true);\r\n                        setPage((p) => p + 1);\r\n                      }}\r\n                      disabled={isLoading}\r\n                      className=\"px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 transition\"\r\n                    >\r\n                      {isLoading ? \"جاري التحميل...\" : \"تحميل المزيد\"}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center text-gray-500 py-12\">\r\n                لا توجد إعلانات حاليًا.\r\n              </div>\r\n            )}\r\n          </div>\r\n          <Link\r\n            href=\"/contact\"\r\n            className=\"max-md:hidden w-[15%] max-lg:w-[20%] flex items-center justify-center bg-cgreen relative min-h-[330px]\"\r\n          >\r\n            <p className=\"text-white text-xl font-bold whitespace-nowrap rotate-[-90deg] transform-origin-left\">\r\n              تواصل معنا لعرض إعلانك هنا\r\n            </p>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <ReportStoreModal\r\n        isOpen={showReportModal}\r\n        onClose={() => setShowReportModal(false)}\r\n        username={username}\r\n        setNotification={setNotification}\r\n      />\r\n      <RateStoreModal\r\n  isOpen={showRateModal}\r\n  onClose={() => setShowRateModal(false)}\r\n  username={username}\r\n  setNotification={setNotification}\r\n/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublicStore;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}